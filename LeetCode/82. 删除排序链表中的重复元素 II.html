<script>
  var deleteDuplicates = function (head) {
    if (head) {
      return null;
    }
    let l = new ListNode();
    l.next = head;

    let cur = l.next;
    let prev = l;
    let flag = false;
    while (cur) {
      if (cur.val == cur.next.val) {
        flag = true;
      } else {
        if (flag) {
          prev.next = cur.next;
          flag = false;
        } else {
          prev = cur;
        }
      }
      cur = cur.next;
    }

    if (flag) {
      prev.next = cur.next;
    }
    return l.next;
  };
</script>
